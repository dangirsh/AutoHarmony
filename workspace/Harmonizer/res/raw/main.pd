#N canvas 161 168 714 496 10;
#N canvas 480 161 450 465 getpitch 0;
#X obj 127 75 inlet~;
#X obj 126 100 fiddle~ 1024;
#X obj 126 129 outlet;
#X connect 0 0 1 0;
#X connect 1 0 2 0;
#X restore 594 151 pd getpitch;
#N canvas 131 168 450 354 timectrl 0;
#X obj 160 189 s tick;
#X obj 217 185 outlet;
#X obj 214 115 inlet;
#X text 275 186 bang ticks output;
#X text 260 113 input msec/tick;
#X obj 163 147 metro 500;
#X obj 149 125 loadbang;
#X connect 2 0 5 1;
#X connect 5 0 0 0;
#X connect 5 0 1 0;
#X connect 6 0 5 0;
#X restore 148 230 pd timectrl;
#X obj 547 61 adc~;
#N canvas 484 225 585 446 envelope 0;
#X obj 147 281 vline~;
#X obj 217 323 *~;
#X obj 226 119 inlet;
#X text 210 101 time in ms;
#X obj 295 287 inlet~;
#X text 348 284 signal to envelope;
#X obj 218 355 outlet~;
#X obj 116 182 inlet;
#X text 100 165 bang tempo;
#X msg 272 186 addcomma;
#X msg 331 186 set 1 10;
#X msg 191 186 add 0 \$1 10;
#X msg 187 156 4;
#X obj 227 156 trigger f b b;
#X msg 147 249 1 10 \, 0 701 10 \;;
#X connect 0 0 1 0;
#X connect 1 0 6 0;
#X connect 2 0 13 0;
#X connect 4 0 1 1;
#X connect 7 0 14 0;
#X connect 9 0 14 0;
#X connect 10 0 14 0;
#X connect 11 0 14 0;
#X connect 12 0 11 0;
#X connect 13 0 11 0;
#X connect 13 1 9 0;
#X connect 13 2 10 0;
#X connect 14 0 0 0;
#X restore 198 267 pd envelope;
#X obj 197 371 dac~;
#X obj 547 180 int;
#X obj 547 151 r tick;
#X obj 547 209 s pitch;
#X obj 254 73 s voice1;
#X obj 367 71 s voice2;
#X obj 228 186 r msecpbeat;
#X floatatom 251 35 5 0 0 0 - - -;
#X floatatom 369 38 5 0 0 0 - - -;
#X obj 118 75 s msecpbeat;
#X floatatom 117 29 5 0 0 0 - - -;
#N canvas 111 82 869 577 pitchshift 0;
#X floatatom 29 99 0 0 0 0 - - -;
#X obj 92 368 *~;
#X obj 215 305 line~;
#X floatatom 247 122 0 0 0 0 - - -;
#X text 78 19 PITCH SHIFTER;
#X obj 215 279 pack 0 200;
#X obj 247 96 r window;
#X obj 29 153 exp;
#X floatatom 29 179 6 0 0 0 - - -;
#X obj 29 269 /;
#X obj 156 199 * 0.001;
#X obj 324 375 line~;
#X obj 324 350 pack 0 200;
#X floatatom 324 299 0 0 0 0 - - -;
#X obj 324 273 r delay;
#X obj 92 394 +~;
#X obj 29 420 cos~;
#X obj 29 447 *~;
#X obj 29 476 +~;
#X obj 116 327 wrap~;
#X obj 261 370 *~;
#X obj 261 403 +~;
#X obj 198 430 cos~;
#X obj 198 457 *~;
#X obj 502 40 loadbang;
#X obj 156 226 t b f;
#X floatatom 29 295 6 0 0 0 - - -;
#X obj 116 300 +~ 0.5;
#X obj 29 368 -~ 0.5;
#X obj 29 394 *~ 0.5;
#X obj 198 369 -~ 0.5;
#X obj 198 402 *~ 0.5;
#X obj 29 206 - 1;
#X obj 29 127 * 0.05776;
#X obj 29 232 * -1;
#X text 92 173 speed;
#X text 91 187 change;
#X text 291 121 <--window (msec);
#X text 64 262 tape head;
#X text 435 163 This is a classic rotating-tape-head style pitch shifter
using the vd~ variable delay object. Ther are two moving tape heads
\, each of which is loudest at the middle of its trajectory \, and
enveloped out at the moment it has to jump back (or forward) to start
another scratch. Most of the brain work is in computing how fast the
tape heads have to move to get the desired transposition.;
#X text 435 282 The "window size" is the total trajectory of the read
points in the delay line \, in milliseconds. The delay times are controlled
by a phasor~ object. The second delay time \, 180 degrees out of phase
from the first one \, is computed using the "wrap" object.;
#X text 433 372 The "window size" is the total trajectory of the read
points in the delay line \, in milliseconds. The delay times are controlled
by a phasor~ object. The second delay time \, 180 degrees out of phase
from the first one \, is computed using the "wrap" object.;
#X text 432 464 The cos~ objects compute the fadein and fadeout of
the two delay line outputs. They each traverse the positive half of
the cosine waveform (phase -0.25 to +0.25) over the time the phase
goes from one end to the other.;
#X obj 29 326 phasor~;
#X obj 324 326 max 1.5;
#X text 327 232 delay;
#X text 324 250 (msec);
#X obj 247 149 max 1;
#X text 65 275 rotation freq;
#X obj 92 420 vd~ G09-del;
#X obj 261 432 vd~ G09-del;
#X obj 274 52 delwrite~ G09-del 5000;
#X obj 274 24 inlet~;
#X obj 29 71 inlet;
#X text 66 70 (halftones to transpose);
#X msg 502 66 \; window 100 \; delay 0;
#X obj 28 510 outlet~;
#X connect 0 0 33 0;
#X connect 1 0 15 0;
#X connect 2 0 1 1;
#X connect 2 0 20 1;
#X connect 3 0 47 0;
#X connect 5 0 2 0;
#X connect 6 0 3 0;
#X connect 7 0 8 0;
#X connect 8 0 32 0;
#X connect 9 0 26 0;
#X connect 10 0 25 0;
#X connect 11 0 15 1;
#X connect 11 0 21 1;
#X connect 12 0 11 0;
#X connect 13 0 44 0;
#X connect 14 0 13 0;
#X connect 15 0 49 0;
#X connect 16 0 17 0;
#X connect 17 0 18 0;
#X connect 18 0 56 0;
#X connect 19 0 20 0;
#X connect 19 0 30 0;
#X connect 20 0 21 0;
#X connect 21 0 50 0;
#X connect 22 0 23 0;
#X connect 23 0 18 1;
#X connect 24 0 55 0;
#X connect 25 0 9 0;
#X connect 25 1 9 1;
#X connect 26 0 43 0;
#X connect 27 0 19 0;
#X connect 28 0 29 0;
#X connect 29 0 16 0;
#X connect 30 0 31 0;
#X connect 31 0 22 0;
#X connect 32 0 34 0;
#X connect 33 0 7 0;
#X connect 34 0 9 0;
#X connect 43 0 1 0;
#X connect 43 0 28 0;
#X connect 43 0 27 0;
#X connect 44 0 12 0;
#X connect 47 0 10 0;
#X connect 47 0 5 0;
#X connect 49 0 17 1;
#X connect 50 0 23 1;
#X connect 52 0 51 0;
#X connect 53 0 0 0;
#X restore 397 266 pd pitchshift;
#X obj 362 145 r voice1;
#X obj 432 145 r pitch;
#X floatatom 363 185 5 0 0 0 - - -;
#X floatatom 432 184 5 0 0 0 - - -;
#X obj 397 222 -;
#X obj 558 91 s~ lead;
#X obj 471 223 r~ lead;
#X obj 593 126 r~ lead;
#X floatatom 257 302 5 0 0 0 - - -;
#X obj 195 325 *~;
#X text 291 301 vol;
#X connect 0 0 5 1;
#X connect 1 0 3 0;
#X connect 2 0 21 0;
#X connect 2 1 21 0;
#X connect 3 0 25 0;
#X connect 5 0 7 0;
#X connect 6 0 5 0;
#X connect 10 0 1 0;
#X connect 10 0 3 1;
#X connect 11 0 8 0;
#X connect 12 0 9 0;
#X connect 14 0 13 0;
#X connect 15 0 3 2;
#X connect 16 0 18 0;
#X connect 17 0 19 0;
#X connect 18 0 20 0;
#X connect 19 0 20 1;
#X connect 20 0 15 0;
#X connect 22 0 15 1;
#X connect 23 0 0 0;
#X connect 24 0 25 1;
#X connect 25 0 4 0;
#X connect 25 0 4 1;
